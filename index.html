<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="rock">🪨</button>
    <button id="paper">📃</button>
    <button id="scissors">✂️</button>
    <div id="resultsDiv"></div>
    <script>
      let humanScore = 0;
      let computerScore = 0;

      //Copmuter's choice
      const getComputerChoice = () => {
        let cpuChoice = Math.floor(Math.random() * 3);
        if (cpuChoice === 0) {
          return "rock";
        } else if (cpuChoice === 1) {
          return "paper";
        } else {
          return "scissors";
        }
      };

      //Disable buttons after the game is over
      const disableButtons = () => {
        const disabledButtons = document.querySelectorAll("button");
        disabledButtons.forEach((button) => {
          button.disabled = true;
        });
      };

      //Plays the game
      const playRound = (humanChoice, computerChoice) => {
        let hC = humanChoice.toLowerCase();
        let cC = computerChoice.toLowerCase();
        let message = "";

        if (hC === cC) {
          message = `🫱🏻‍🫲🏽 It's a tie! Player: ${humanScore} - Computer: ${computerScore}`;
        } else if (
          (hC === "rock" && cC === "scissors") ||
          (hC === "paper" && cC === "rock") ||
          (hC === "scissors" && cC === "paper")
        ) {
          humanScore++;
          message = `🥇You win!🏆 ${hC} beats ${cC}! Player: ${humanScore} - Computer: ${computerScore}`;
        } else {
          computerScore++;
          message = `💢You lose!😡 ${cC} beats ${hC}! Player: ${humanScore} - Computer: ${computerScore}`;
        }

        //End game after someone has 5 wins
        if (humanScore === 5) {
          message = `🍾Congrats! You won!🎉 Player: ${humanScore} - Computer: ${computerScore}`;
          disableButtons();
        }

        if (computerScore === 5) {
          message = `😖 Sorry... You lost!😒 Player: ${humanScore} - Computer: ${computerScore}`;
          disableButtons();
        }

        const resultsDiv = document.getElementById("resultsDiv");
        resultsDiv.textContent = message;
      };

      //Sets buttons to call playRound
      const buttons = document.querySelectorAll("button");
      buttons.forEach((button) => {
        button.addEventListener("click", () => {
          const playerSelection = button.id;
          const computerSelection = getComputerChoice();
          playRound(playerSelection, computerSelection);
        });
      });
    </script>
  </body>
</html>
